import streamlit as st

st.set_page_config(
    page_title="å·ç”°ã®ãƒ©ãƒ¼ãƒ¡ãƒ³å±‹ã•ã‚“ ğŸœ",
    page_icon="ğŸœ",
    layout="centered",
)

st.markdown("# å·ç”°ã®ãƒ©ãƒ¼ãƒ¡ãƒ³å±‹ã•ã‚“ ğŸœ")
st.write("ã¯ã„ã€ã¨è¨€ã†äº‹ã§ã”ã–ã„ã¾ã—ãŸã‘ã‚Œã©ã‚‚ã€‚PythonåŸºç¤ã‚’**ãƒ©ãƒ¼ãƒ¡ãƒ³å±‹ã®æ¯”å–©**ã§è…¹è½ã¡å­¦ç¿’ã—ã¦å‚ã‚Šã¾ã™ã€‚")
st.divider()

# é€²æ—ï¼ˆå°ãƒ†ã‚¹ãƒˆã®åˆç®—è¡¨ç¤º + Resetï¼‰
st.subheader("é€²æ—ï¼ˆå°ãƒ†ã‚¹ãƒˆ åˆè¨ˆï¼‰")
qs = st.session_state.get('quiz_state', {'correct': 0, 'total': 0, 'graded': {}})
correct = qs.get('correct', 0)
total = qs.get('total', 0)
rate = (correct / total * 100) if total else 0.0
col1, col2, col3 = st.columns(3)
with col1:
    st.metric("æ­£è§£", correct)
with col2:
    st.metric("å—é¨“æ•°", total)
with col3:
    st.metric("æ­£ç­”ç‡", f"{rate:.0f}%")

if st.button("Resetï¼ˆã‚¹ã‚³ã‚¢åˆæœŸåŒ–ï¼‰"):
    # gradedæƒ…å ±ã‚’æ¶ˆå»ã€‚å¿…è¦ãŒã‚ã‚Œã°å€‹åˆ¥ã®é¸æŠçŠ¶æ…‹ã‚‚ãƒ¦ãƒ¼ã‚¶ãƒ¼å´ã§å¤‰æ›´å¯ã€‚
    st.session_state['quiz_state'] = {'correct': 0, 'total': 0, 'graded': {}}
    st.success("ã‚¹ã‚³ã‚¢ã‚’åˆæœŸåŒ–ã—ã¾ã—ãŸã€‚ãŠç–²ã‚Œæ§˜ã§ã”ã–ã„ã¾ã—ãŸï¼")

st.subheader("å­¦ç¿’ãƒ¡ãƒ‹ãƒ¥ãƒ¼")
st.markdown("""
- â‘  ãƒ‡ãƒ¼ã‚¿å‹ï¼ˆææ–™ã®ç¨®é¡ï¼‰
- â‘¡ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆé“å…·ç®±ï¼‰
- â‘¢ ã‚¯ãƒ©ã‚¹ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆãƒ¬ã‚·ãƒ”ã¨ä¸€æ¯ï¼‰
- â‘£ ãƒªã‚¹ãƒˆç·¨
- â‘¤ æ–‡å­—åˆ—ç·¨
- â‘¥ ä¾‹å¤–å‡¦ç†ç·¨
- â‘¦ å¤‰æ•°ã‚¹ã‚³ãƒ¼ãƒ—
- â‘§ é–¢æ•°ã®é«˜åº¦åˆ©ç”¨
- â‘¨ é«˜åº¦ãªã‚¯ãƒ©ã‚¹
""")

st.info("å·¦ã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼ˆâ‰¡ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ã‹ã‚‰å„ãƒšãƒ¼ã‚¸ã‚’ã”è¦§ã„ãŸã ã‘ã¾ã™ã€‚ãŠç–²ã‚Œæ§˜ã§ã”ã–ã„ã¾ã—ãŸï¼")
